# 数据缓存
在业务逻辑层和数据库层之间加上数据缓存，只要数据在缓存中命中就返回，省去了去数据中获取的操作，以提升系统的响应性能。
## 概述
## 适合做缓存的场景
- 读多写少的场景
- 并发高的场景
- 对一致性有要求的场景
## 不适合做缓存的场景
对于读多写少的场景（如云端数据备份），就不太适合做缓存，这时候可以考虑将数据库做分库分表，甚至将磁盘更换为SSD以提升写入性能，反之，如果系统是读多写少则适合做缓存。
## 缓存穿透及解决方案
### 什么是缓存穿透
#### 指的是访问数据库中不存在的数据，缓存中也不会存在的数据，导致请求全部进入数据库，如果并发量大的话会出现数据库宕机的情况。
### 如何解决缓存穿透
#### 查询参数有效性判断

#### 查询字段过滤器
- 布隆过滤器
- 布谷鸟过滤器
#### 空结果缓存
#### 加锁排队
### 
## 缓存雪崩及解决方案
### 什么是缓存雪崩
#### 大量的key在同一时间失效，导致流量都打到了DB上。
### 产生场景
#### 在高并发中访问同意业务场景下的数据。
### 解决方案
#### 加锁控制
#### 缓存预加载机制
#### 将不同的键在指定缓存失效时间基础上再添加随机失效时间。
## 缓存击穿及解决方案
### 什么是缓存击穿
#### 单个热点数据失效后，在高并发的场景下，大量求打在数据库上，导致数据库负载过高甚至崩溃的情况。
### 解决方案
#### 后台定时刷新
#### 主动检测更新
#### 设置多层缓存
#### 加锁限制对数据库的并发访问


## 如何保证缓存与数据的一致性
### 懒加载
### 主动加载
